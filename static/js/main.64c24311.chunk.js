(this["webpackJsonpsharing-control-props"]=this["webpackJsonpsharing-control-props"]||[]).push([[0],{100:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=100},122:function(e,t,a){"use strict";a.r(t);a(74);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),i=a(6),o=a(10),s=a(8),u=a(15),m={isSignedIn:!1,currUser:null,favorites:[],clientId:"867791205142-9dl1r1afbc6n20f3hr1efsn63v3e2t9c.apps.googleusercontent.com"},d=Object(n.createContext)(m),f=d.Provider;function E(e,t){var a=e.clientId,n=e.favorites,r=e.currUser,c=t.url;switch(t.type){case"signIn":return{isSignedIn:!0,currUser:t.user,favorites:n,clientId:a};case"like":return n.push(c),{isSignedIn:!0,currUser:r,favorites:n.slice(0),clientId:a};case"unlike":return n.splice(function(e){for(var t=e.length,a=0;a<t;a+=1)if(e[a]===c)return a;return-1}(n),1),{isSignedIn:!0,currUser:r,favorites:n.slice(0),clientId:a};default:return m}}var h=function(e){var t=e.children,a=Object(n.useReducer)(E,m),c=Object(s.a)(a,2),l=c[0],i=c[1];return r.a.createElement(f,{value:{state:l,dispatch:i}},t)},g=function(){var e=window.innerWidth;return e>=1200?1110:e>=992?930:e>=768?690:e>=576?510:e-30},v=function(){var e=Object(n.useState)(g()),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=function(){return r(g())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a};a(26);var p=function(){var e=Object(i.g)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useContext)(d),m=o.state,f=o.dispatch,E=m.isSignedIn,h=m.clientId,g=r.a.createElement(i.a,{to:"./search"}),v=r.a.createElement("div",{className:"nice"},r.a.createElement("header",{className:"center"},r.a.createElement("h1",{id:"title"},"Giphy Search"),r.a.createElement(u.GoogleLogin,{clientId:h,render:function(e){return r.a.createElement("button",{type:"button",onClick:e.onClick,disabled:e.disabled,className:"login"})},onSuccess:function(t){f({type:"signIn",user:t}),e.push("./search")},onFailure:function(e){l(e.error)},cookiePolicy:"single_host_origin"}),c.length>0?r.a.createElement("h4",null,"Try again."):null));return E?g:v},A=a(127),b=a(130),O=a(128),N=a(131),j=a(21),y=a(14),I=a(29),w=a.n(I),x=a(22),k=a.n(x);function C(e){var t=Object(n.useContext)(d),a=Object(i.g)(),c=t.state,l=t.dispatch,o=c.currUser,m=c.isSignedIn,f=c.clientId,E=e.searchRes,h=e.setSearch,g=o?o.profileObj:null,v=Object(n.useState)(0),p=Object(s.a)(v,2),O=p[0],N=p[1];if(!m||!g)return r.a.createElement(i.a,{to:"../"});var j,y=g.givenName,I=y.indexOf(",");j=-1===I?y:y.slice(0,I);var w=0===E.length?r.a.createElement("h1",null,"Trending"):r.a.createElement("h1",null,"Search");return r.a.createElement(A.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-fluid"},r.a.createElement("div",{className:"col-6 big"},w),r.a.createElement("div",{className:"col text-right lift"},r.a.createElement("p",null,"Welcome,",r.a.createElement("span",{className:"bold"}," ".concat(j," ").concat(g.familyName))),r.a.createElement(u.GoogleLogout,{clientId:f,render:function(e){return r.a.createElement("button",{type:"button",style:{backgroundColor:"white",border:"1px solid #ced4da"},onClick:function(){l({type:"signOut"}),e.onClick()}},r.a.createElement("img",{className:"g-icon",src:k.a,alt:"g-icon"}),"Logout")},onLogoutSuccess:function(){a.push("/")}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(b.a.Group,{className:"w-50"},r.a.createElement(b.a.Control,{type:"text",onChange:function(e){return function(e){O&&clearTimeout(O);var t=setTimeout((function(){return h(e)}),600);N(t)}(e.target.value)},defaultValue:E,placeholder:"Search for gifs",className:"ml-xl-0"}))))))}function S(e){var t=v(),a=Object(i.g)(),c=e.searchRes,l=Object(n.useRef)(new y.GiphyFetch("xnRLsVCSkmNxrfX34lVxjbuN4faLWKbq")).current,o=0===c.length?function(e){return l.trending({offset:e,limit:10})}:function(e){return l.search(c,{offset:e,limit:10})};return r.a.createElement(j.Grid,{hideAttribution:!0,key:c,width:t,columns:3,fetchGifs:o,onGifClick:function(e,t){t.stopPropagation(),t.preventDefault();var n,r=e.url,l=r.lastIndexOf("-"),i=r.lastIndexOf("/");n=l>-1?r.slice(l+1):i>-1?r.slice(i+1):r,a.push("/details",{url:n,res:c})}})}function R(){return r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement(O.a,null,r.a.createElement(N.a,{justify:!0,variant:"tabs",className:"custom"},r.a.createElement(N.a.Item,{href:"/search"},r.a.createElement(N.a.Link,{disabled:"true"},"Search")),r.a.createElement(N.a.Item,{href:"/favorites"},r.a.createElement(N.a.Link,{as:o.b,to:"/favorites"},"Favorites")))))}var L=function(){var e=Object(i.h)().state,t=e?e.res:"",a=Object(n.useState)(t),c=Object(s.a)(a,2),l=c[0],o=c[1];return r.a.createElement(O.a,null,r.a.createElement(C,{searchRes:l,setSearch:o}),r.a.createElement("header",null,r.a.createElement("img",{src:w.a,width:"400",alt:"Powered by GIPHY"})),r.a.createElement(S,{searchRes:l}),r.a.createElement(R,null))},B=a(25),G=a.n(B),W=a(42),P=a(132),D=a(129),F=a(43),U=a(68),Z=a(48),Y=a(67),M=a.n(Y);function T(){var e=Object(n.useContext)(d),t=Object(i.g)(),a=e.state,c=e.dispatch,l=a.currUser,o=a.isSignedIn,s=a.clientId,m=l?l.profileObj:null;if(!o)return r.a.createElement(i.a,{to:"../"});var f,E=m.givenName,h=E.indexOf(",");return f=-1===h?E:E.slice(0,h),r.a.createElement(A.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-fluid"},r.a.createElement("div",{className:"col-6 big"},r.a.createElement("h1",null,"Details")),r.a.createElement("div",{className:"col text-right lift"},r.a.createElement("p",null,"Welcome,",r.a.createElement("span",{className:"bold"}," ".concat(f," ").concat(m.familyName))),r.a.createElement(u.GoogleLogout,{clientId:s,render:function(e){return r.a.createElement("button",{type:"button",style:{backgroundColor:"white",border:"1px solid #ced4da"},onClick:function(){c({type:"signOut"}),e.onClick()}},r.a.createElement("img",{className:"g-icon",src:k.a,alt:"g-icon"}),"Logout")},onLogoutSuccess:function(){t.push("../")}})))))}function J(e){var t=Object(n.useContext)(d),a=t.state,c=t.dispatch,l=a.favorites,i=e.url;var o=Object(n.useState)(function(e){for(var t=e.length,a=0;a<t;a+=1)if(e[a]===i)return!0;return!1}(l)),u=Object(s.a)(o,2),m=u[0],f=u[1],E=m?"Remove from favorites":"Add to favorites";return r.a.createElement(P.a,{placement:"right",overlay:r.a.createElement(D.a,{id:"tooltip-right"},E)},r.a.createElement("button",{type:"button",className:"action",onClick:function(e){return function(e,t){e.preventDefault(),f(t),c(t?{type:"like",url:i}:{type:"unlike",url:i})}(e,!m)}},r.a.createElement(F.a,{icon:m?Z.a:U.a,style:{color:"red"},size:"2x"})))}function Q(e){var t=e.url;return r.a.createElement(P.a,{placement:"right",overlay:r.a.createElement(D.a,{id:"tooltip-right"},"Copy link to clipboard")},r.a.createElement("button",{type:"button",className:"action",onClick:function(e){e.preventDefault();var a="https://giphy.com/gifs/".concat(t);navigator.clipboard.writeText(a)}},r.a.createElement(F.a,{icon:Z.b,style:{color:"black"},size:"2x"})))}function H(e){var t,a,c,l=e.res,o=e.url,u=Object(i.g)(),m=Object(n.useState)(null),d=Object(s.a)(m,2),f=d[0],E=d[1],h=Object(n.useState)(null),g=Object(s.a)(h,2),p=g[0],A=g[1],b=Object(n.useState)(""),O=Object(s.a)(b,2),N=O[0],I=O[1],w=Math.min(v(),400),x=w+15;if(Object(n.useEffect)((function(){(function(){var e=Object(W.a)(G.a.mark((function e(){var t,a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.GiphyFetch("xnRLsVCSkmNxrfX34lVxjbuN4faLWKbq"),e.next=3,t.gif(o);case 3:a=e.sent,n=a.data,E(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){var e=function(){var e=Object(W.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);A(r.a.createElement("img",{src:t,width:"100",alt:"avatar"}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();"blank"===N?A(r.a.createElement("img",{src:M.a,width:"100",alt:"avatar_default"})):""!==N&&e(N)}),[N]),f){if(p){var k=f.title,C=f.user,S=f.import_datetime,R=S.lastIndexOf(" ");c=S.slice(0,R);var L=k.lastIndexOf("GIF");t=k.slice(0,L-1),a=C?C.display_name:"<Unknown User>"}if(""===N){var B=f.user;I(B?B.avatar_url:"blank")}}return f&&p?r.a.createElement("div",{className:"container space"},r.a.createElement("header",null," ",r.a.createElement("h2",null,t)),r.a.createElement("div",null,r.a.createElement(j.Gif,{hideAttribution:!0,gif:f,onGifClick:function(e,t){t.stopPropagation(),t.preventDefault(),window.open(e.url,"_blank")},width:w})),r.a.createElement("div",{className:"row desc",style:{width:x}},r.a.createElement("div",{className:"col-3 fixed100"},p),r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,a),r.a.createElement("h4",null,c))),r.a.createElement("div",{className:"row no-gutters",style:{marginBottom:"2px",width:"30%"}},r.a.createElement("div",{className:"col-3 col-md-2 small"},r.a.createElement(J,{url:o})),r.a.createElement("div",{className:"col-3 col-md-2 small"},r.a.createElement(Q,{url:o}))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("button",{type:"button",className:"link",onClick:function(){return u.push("/search",{res:l})}},"More search results"))):r.a.createElement("p",null,"Loading the picture...")}function X(){return r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement(O.a,null,r.a.createElement(N.a,{justify:!0,variant:"tabs"},r.a.createElement(N.a.Item,{href:"/search"},r.a.createElement(N.a.Link,{as:o.b,to:"/search"},"Search")),r.a.createElement(N.a.Item,{href:"/favorites"},r.a.createElement(N.a.Link,{as:o.b,to:"/favorites"},"Favorites")))))}var z=function(){var e=Object(i.h)().state,t=Object(i.g)(),a=e?r.a.createElement(H,{url:e.url,res:e.res}):r.a.createElement("div",{className:"header space"},r.a.createElement("header",null,r.a.createElement("p",null,"Oops, you have not selected an image to view yet!"),r.a.createElement("button",{type:"button",onClick:function(){return t.push("/search")}},"Back to Search")));return r.a.createElement(O.a,null,r.a.createElement(T,null),a,r.a.createElement(X,null))};function K(){var e=Object(n.useContext)(d),t=Object(i.g)(),a=e.state,c=e.dispatch,l=a.currUser,o=a.isSignedIn,s=a.clientId,m=l?l.profileObj:null;if(!o)return r.a.createElement(i.a,{to:"../"});var f,E=m.givenName,h=E.indexOf(",");return f=-1===h?E:E.slice(0,h),r.a.createElement(A.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-fluid"},r.a.createElement("div",{className:"col-6 big"},r.a.createElement("h1",null,"Favorites")),r.a.createElement("div",{className:"col text-right lift"},r.a.createElement("p",null,"Welcome,",r.a.createElement("span",{className:"bold"}," ".concat(f," ").concat(m.familyName))),r.a.createElement(u.GoogleLogout,{clientId:s,render:function(e){return r.a.createElement("button",{type:"button",style:{backgroundColor:"white",border:"1px solid #ced4da"},onClick:function(){c({type:"signOut"}),e.onClick()}},r.a.createElement("img",{className:"g-icon",src:k.a,alt:"g-icon"}),"Logout")},onLogoutSuccess:function(){t.push("../")}})))))}function V(){var e=Object(n.useContext)(d).state.favorites.slice(0).reverse(),t=new y.GiphyFetch("xnRLsVCSkmNxrfX34lVxjbuN4faLWKbq"),a=v(),c=Object(i.g)();if(0===e.length)return r.a.createElement("div",{className:"header space"},r.a.createElement("header",null,r.a.createElement("p",null,"Oops, you don't have any favorites yet!"),r.a.createElement("button",{type:"button",onClick:function(){return c.push("./search")}},"Back to Search")));var l=e.join();return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("img",{src:w.a,width:"400",alt:"Powered by GIPHY"})),r.a.createElement(j.Grid,{hideAttribution:!0,key:l,width:a,columns:3,fetchGifs:function(a){return t.gifs(e)},onGifClick:function(e,t){t.stopPropagation(),t.preventDefault();var a,n=e.url,r=n.lastIndexOf("-"),l=n.lastIndexOf("/");a=r>-1?n.slice(r+1):l>-1?n.slice(l+1):n,c.push("./details",{url:a,res:""})}}))}function q(){return r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement(O.a,null,r.a.createElement(N.a,{justify:!0,variant:"tabs"},r.a.createElement(N.a.Item,{href:"/search"},r.a.createElement(N.a.Link,{as:o.b,to:"/search"},"Search")),r.a.createElement(N.a.Item,{href:"/favorites"},r.a.createElement(N.a.Link,{disabled:"true"},"Favorites")))))}var _=function(){return r.a.createElement(O.a,null,r.a.createElement(K,null),r.a.createElement(V,null),r.a.createElement(q,null))};var $=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Not found"),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},"Try logging in again. ")))};function ee(){return r.a.createElement("main",null,r.a.createElement(h,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",component:p,exact:!0}),r.a.createElement(i.b,{path:"/search",component:L}),r.a.createElement(i.b,{path:"/details",component:z}),r.a.createElement(i.b,{path:"/favorites",component:_}),r.a.createElement(i.b,{component:$}))))}l.a.render(r.a.createElement(o.a,{basename:"/giphy-search"},r.a.createElement(ee,null)),document.getElementById("root"))},22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAcCAYAAACZOmSXAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAH6ADAAQAAAABAAAAHAAAAAAl+oE4AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAADQklEQVRIDe2WX0hTURzHv7t310236WL+TR2atMQUS8X+kGGmEETQQw/5FmQSBBFRaASi9FIS9JDQgw8R1EMPSlQPJlEP+iBkD2ZJyswUGZvMXdfc2nbv7jp3c7Yr3ru7CHyoA7v3nN/9/b6f8/udc+6dJkoadqhRO8SNYf9duDbdsnOzMwi+Gga/YEfEsYwoFwZtyQNTcwC65jZkNBxWLalRu+EiLid8/X3gpj4qimura5Hd1Qu6qFjRT3yoCs7NTMPbcxPRNU9KQdGBqWuEuX8gpW9KeMS9ArajHdF1n0SMLrFCW2FDVBDAz89BIEsgNu3eSuQQMGXKlvhvN0i55r7+XgmYysuH8WoXdEeaJHqhsfcIjryEqbtPFVgMVsw8yo4j8PgcAm9KgAgFypIL84NB0LtTr6dkZjIDxcwF51Poaj2gC3/CP1wOw8UrcbD4UiTlBsidokkKGhl5ZbNi5vxEHeD/HFMQeAuY1mVoaALjOGCG2FfdeOSsgl9vEksIOsojotEizOg3qcdsNJoqt89xe2siNLiU6JGS74uDExZxEmSjaadYEDSyeR/cOguWsqyYMtkSXjDq8IfwTYktHYYBCgrJmWKwZ30eQToTRgJ36fKhFSIS5zAvGUoGypnrS0nZv8QCgoEFZBJhWlxjseWYgdZTmHCy4KgMUnYB64wRP6gsIBB3Ea9mg/x+UIQLpgZQBD7HZ+OWpwqdi2M4Xd4cV87IAMhZv91tjY83ri8mOTwcDW/arBb5b5f8ExIuFLTjdbAUl9aa4BAMGPj0DMvrrk3hrR1vIIqhD2QzbjQx58aKjUoljEl3Rbg+twVvDRdAPh2xEHeQxeV3PRhzTCZJxLuz7AKuPf8OB/v7v8nJaho5WfJlVzxqouxKYBXnR67Dx/klQKuxCLZd5aA1FBZ9Dnxlv0Ej6KF3dYIJ1MNAdvlgRyYKcuTzSwkXidPuOdwYvwdPyCuZgNygIHQWd46342CZfMnFWPlpJSnX5NrwpO0u6vP3J1m375aZinH/zNGUYDFaVebJmBmPHUP2Udi9S2TzORGKhGHRm1FtsaGl5BBOkB9FlkJNSxuuRlStj7opqlVL0+8/PM2C/R33HS37L06iGeZMsRidAAAAAElFTkSuQmCC"},26:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/giphy.7043b95a.gif"},67:function(e,t,a){e.exports=a.p+"static/media/avatar.6aa0c446.png"},73:function(e,t,a){e.exports=a(122)}},[[73,1,2]]]);
//# sourceMappingURL=main.64c24311.chunk.js.map