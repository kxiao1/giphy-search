(this["webpackJsonpsharing-control-props"]=this["webpackJsonpsharing-control-props"]||[]).push([[0],{100:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=100},122:function(e,t,a){"use strict";a.r(t);a(74);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),i=a(6),o=a(10),s=a(8),u=a(15),m={isSignedIn:!1,currUser:null,favorites:[],clientId:"867791205142-9dl1r1afbc6n20f3hr1efsn63v3e2t9c.apps.googleusercontent.com"},f=Object(n.createContext)(m),d=f.Provider;function g(e,t){var a=e.clientId,n=e.favorites,r=e.currUser,l=t.url;switch(t.type){case"signIn":return{isSignedIn:!0,currUser:t.user,favorites:n,clientId:a};case"like":return n.push(l),{isSignedIn:!0,currUser:r,favorites:n.slice(0),clientId:a};case"unlike":return n.splice(function(e){for(var t=e.length,a=0;a<t;a+=1)if(e[a]===l)return a;return-1}(n),1),{isSignedIn:!0,currUser:r,favorites:n.slice(0),clientId:a};default:return m}}var E=function(e){var t=e.children,a=Object(n.useReducer)(g,m),l=Object(s.a)(a,2),c=l[0],i=l[1];return r.a.createElement(d,{value:{state:c,dispatch:i}},t)},p=function(){var e=window.innerWidth;return e>=1200?1110:e>=992?930:e>=768?690:e>=576?510:e-30},v=function(){var e=Object(n.useState)(p()),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=function(){return r(p())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a};a(26);var h=function(){var e=Object(i.g)(),t=Object(n.useState)("(*Demo: No server. Only name is stored, and in sessionStorage.)"),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useContext)(f),m=o.state,d=o.dispatch,g=m.isSignedIn,E=m.clientId,p=r.a.createElement(i.a,{to:"./search"}),v=r.a.createElement("div",{className:"nice"},r.a.createElement("header",{className:"center"},r.a.createElement("h1",{id:"title"},"Giphy Search"),r.a.createElement(u.GoogleLogin,{clientId:E,render:function(e){return r.a.createElement("button",{type:"button",onClick:e.onClick,disabled:e.disabled,className:"login"})},onSuccess:function(t){d({type:"signIn",user:t}),e.push("./search")},onFailure:function(e){console.log(e.error),c("Try again.")},cookiePolicy:"single_host_origin"}),l.length>0?r.a.createElement("h5",null,l):null));return g?p:v},b=a(127),A=a(130),N=a(128),O=a(131),y=a(21),j=a(14),S=a(29),I=a.n(S),w=a(22),x=a.n(w);function k(e){var t=Object(n.useContext)(f),a=Object(i.g)(),l=t.state,c=t.dispatch,o=l.currUser,m=l.clientId,d=e.searchRes,g=e.setSearch,E=null,p=sessionStorage.profile?JSON.parse(sessionStorage.profile):null;if(o){var v=o.profileObj.givenName,h=o.profileObj.familyName;!p||v===p.givenName&&h===p.familyName||sessionStorage.clear();var N={familyName:o.profileObj.familyName,givenName:o.profileObj.givenName};sessionStorage.setItem("profile",JSON.stringify(N)),E=o.profileObj}else p&&(E=p);var O=Object(n.useState)(0),y=Object(s.a)(O,2),j=y[0],S=y[1];if(!E)return r.a.createElement(i.a,{to:"../"});var I,w=E.givenName,k=w.indexOf(",");I=-1===k?w:w.slice(0,k);var C=0===d.length?r.a.createElement("h1",null,"Trending"):r.a.createElement("h1",null,"Search");return r.a.createElement(b.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-fluid"},r.a.createElement("div",{className:"col-6 big"},C),r.a.createElement("div",{className:"col text-right lift"},r.a.createElement("p",null,"Welcome,",r.a.createElement("span",{className:"bold"}," ".concat(I," ").concat(E.familyName))),r.a.createElement(u.GoogleLogout,{clientId:m,render:function(e){return r.a.createElement("button",{type:"button",style:{backgroundColor:"white",border:"1px solid #ced4da"},onClick:function(){c({type:"signOut"}),e.onClick()}},r.a.createElement("img",{className:"g-icon",src:x.a,alt:"g-icon"}),"Logout")},onLogoutSuccess:function(){a.push("/")}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(A.a.Group,{className:"w-50"},r.a.createElement(A.a.Control,{type:"text",onChange:function(e){return function(e){j&&clearTimeout(j);var t=setTimeout((function(){return g(e)}),600);S(t)}(e.target.value)},defaultValue:d,placeholder:"Search for gifs",className:"ml-xl-0"}))))))}function C(e){var t=v(),a=Object(i.g)(),l=e.searchRes,c=Object(n.useRef)(new j.GiphyFetch("xnRLsVCSkmNxrfX34lVxjbuN4faLWKbq")).current,o=0===l.length?function(e){return c.trending({offset:e,limit:10})}:function(e){return c.search(l,{offset:e,limit:10})};return r.a.createElement(y.Grid,{hideAttribution:!0,key:l,width:t,columns:3,fetchGifs:o,onGifClick:function(e,t){t.stopPropagation(),t.preventDefault();var n,r=e.url,c=r.lastIndexOf("-"),i=r.lastIndexOf("/");n=c>-1?r.slice(c+1):i>-1?r.slice(i+1):r,a.push("/details",{url:n,res:l})}})}function R(){return r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement(N.a,null,r.a.createElement(O.a,{justify:!0,variant:"tabs",className:"custom"},r.a.createElement(O.a.Item,{href:"/search"},r.a.createElement(O.a.Link,{disabled:"true"},"Search")),r.a.createElement(O.a.Item,{href:"/favorites"},r.a.createElement(O.a.Link,{as:o.b,to:"/favorites"},"Favorites")))))}var L=function(){var e=Object(i.h)().state,t=e?e.res:"",a=Object(n.useState)(t),l=Object(s.a)(a,2),c=l[0],o=l[1];return r.a.createElement(N.a,null,r.a.createElement(k,{searchRes:c,setSearch:o}),r.a.createElement("header",null,r.a.createElement("img",{src:I.a,width:"400",alt:"Powered by GIPHY"})),r.a.createElement(C,{searchRes:c}),r.a.createElement(R,null))},B=a(25),G=a.n(B),W=a(42),P=a(132),D=a(129),F=a(43),U=a(68),J=a(48),Z=a(67),Y=a.n(Z);function M(){var e=Object(n.useContext)(f),t=Object(i.g)(),a=e.state,l=e.dispatch,c=a.currUser,o=a.clientId,s=null,m=sessionStorage.profile?JSON.parse(sessionStorage.profile):null;if(c){var d=c.profileObj.givenName,g=c.profileObj.familyName;!m||d===m.givenName&&g===m.familyName||sessionStorage.clear();var E={familyName:c.profileObj.familyName,givenName:c.profileObj.givenName};sessionStorage.setItem("profile",JSON.stringify(E)),s=c.profileObj}else m&&(s=m);if(!s)return r.a.createElement(i.a,{to:"../"});var p,v=s.givenName,h=v.indexOf(",");return p=-1===h?v:v.slice(0,h),r.a.createElement(b.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-fluid"},r.a.createElement("div",{className:"col-6 big"},r.a.createElement("h1",null,"Details")),r.a.createElement("div",{className:"col text-right lift"},r.a.createElement("p",null,"Welcome,",r.a.createElement("span",{className:"bold"}," ".concat(p," ").concat(s.familyName))),r.a.createElement(u.GoogleLogout,{clientId:o,render:function(e){return r.a.createElement("button",{type:"button",style:{backgroundColor:"white",border:"1px solid #ced4da"},onClick:function(){l({type:"signOut"}),e.onClick()}},r.a.createElement("img",{className:"g-icon",src:x.a,alt:"g-icon"}),"Logout")},onLogoutSuccess:function(){t.push("../")}})))))}function T(e){var t=Object(n.useContext)(f),a=t.state,l=t.dispatch,c=a.favorites,i=e.url;var o=Object(n.useState)(function(e){for(var t=e.length,a=0;a<t;a+=1)if(e[a]===i)return!0;return!1}(c)),u=Object(s.a)(o,2),m=u[0],d=u[1],g=m?"Remove from favorites":"Add to favorites";return r.a.createElement(P.a,{placement:"right",overlay:r.a.createElement(D.a,{id:"tooltip-right"},g)},r.a.createElement("button",{type:"button",className:"action",onClick:function(e){return function(e,t){e.preventDefault(),d(t),l(t?{type:"like",url:i}:{type:"unlike",url:i})}(e,!m)}},r.a.createElement(F.a,{icon:m?J.a:U.a,style:{color:"red"},size:"2x"})))}function Q(e){var t=e.url;return r.a.createElement(P.a,{placement:"right",overlay:r.a.createElement(D.a,{id:"tooltip-right"},"Copy link to clipboard")},r.a.createElement("button",{type:"button",className:"action",onClick:function(e){e.preventDefault();var a="https://giphy.com/gifs/".concat(t);navigator.clipboard.writeText(a)}},r.a.createElement(F.a,{icon:J.b,style:{color:"black"},size:"2x"})))}function H(e){var t,a,l,c=e.res,o=e.url,u=Object(i.g)(),m=Object(n.useState)(null),f=Object(s.a)(m,2),d=f[0],g=f[1],E=Object(n.useState)(null),p=Object(s.a)(E,2),h=p[0],b=p[1],A=Object(n.useState)(""),N=Object(s.a)(A,2),O=N[0],S=N[1],I=Math.min(v(),400),w=I+15;if(Object(n.useEffect)((function(){(function(){var e=Object(W.a)(G.a.mark((function e(){var t,a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new j.GiphyFetch("xnRLsVCSkmNxrfX34lVxjbuN4faLWKbq"),e.next=3,t.gif(o);case 3:a=e.sent,n=a.data,g(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){var e=function(){var e=Object(W.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(t).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(e);b(r.a.createElement("img",{src:t,width:"100",alt:"avatar"}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();"blank"===O?b(r.a.createElement("img",{src:Y.a,width:"100",alt:"avatar_default"})):""!==O&&e(O)}),[O]),d){if(h){var x=d.title,k=d.user,C=d.import_datetime,R=C.lastIndexOf(" ");l=C.slice(0,R);var L=x.lastIndexOf("GIF");t=x.slice(0,L-1),a=k&&k.display_name?k.display_name:"<Unknown User>"}if(""===O){var B=d.user;S(B?B.avatar_url:"blank")}}return d&&h?r.a.createElement("div",{className:"container left space"},r.a.createElement("header",null," ",r.a.createElement("h2",null,t)),r.a.createElement("div",null,r.a.createElement(y.Gif,{hideAttribution:!0,gif:d,onGifClick:function(e,t){t.stopPropagation(),t.preventDefault(),window.open(e.url,"_blank")},width:I})),r.a.createElement("div",{className:"row desc",style:{width:w}},r.a.createElement("div",{className:"col-3 fixed100"},h),r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,a),r.a.createElement("h4",null,l))),r.a.createElement("div",{className:"row no-gutters",style:{marginBottom:"2px",width:"30%"}},r.a.createElement("div",{className:"col-3 col-md-2 small"},r.a.createElement(T,{url:o})),r.a.createElement("div",{className:"col-3 col-md-2 small"},r.a.createElement(Q,{url:o}))),r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("button",{type:"button",className:"link",onClick:function(){return u.push("/search",{res:c})}},"More search results"))):r.a.createElement("p",null,"Loading the picture...")}function X(){return r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement(N.a,null,r.a.createElement(O.a,{justify:!0,variant:"tabs"},r.a.createElement(O.a.Item,{href:"/search"},r.a.createElement(O.a.Link,{as:o.b,to:"/search"},"Search")),r.a.createElement(O.a.Item,{href:"/favorites"},r.a.createElement(O.a.Link,{as:o.b,to:"/favorites"},"Favorites")))))}var z=function(){var e=Object(i.h)().state,t=Object(i.g)(),a=e?r.a.createElement(H,{url:e.url,res:e.res}):r.a.createElement("div",{className:"header space"},r.a.createElement("header",null,r.a.createElement("p",null,"Oops, you have not selected an image to view yet!"),r.a.createElement("button",{type:"button",onClick:function(){return t.push("/search")}},"Back to Search")));return r.a.createElement(N.a,null,r.a.createElement(M,null),a,r.a.createElement(X,null))};function K(){var e=Object(n.useContext)(f),t=Object(i.g)(),a=e.state,l=e.dispatch,c=a.currUser,o=a.clientId,s=null,m=sessionStorage.profile?JSON.parse(sessionStorage.profile):null;if(c){var d=c.profileObj.givenName,g=c.profileObj.familyName;!m||d===m.givenName&&g===m.familyName||sessionStorage.clear();var E={familyName:c.profileObj.familyName,givenName:c.profileObj.givenName};sessionStorage.setItem("profile",JSON.stringify(E)),s=c.profileObj}else m&&(s=m);if(!s)return r.a.createElement(i.a,{to:"../"});var p,v=s.givenName,h=v.indexOf(",");return p=-1===h?v:v.slice(0,h),r.a.createElement(b.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-fluid"},r.a.createElement("div",{className:"col-6 big"},r.a.createElement("h1",null,"Favorites")),r.a.createElement("div",{className:"col text-right lift"},r.a.createElement("p",null,"Welcome,",r.a.createElement("span",{className:"bold"}," ".concat(p," ").concat(s.familyName))),r.a.createElement(u.GoogleLogout,{clientId:o,render:function(e){return r.a.createElement("button",{type:"button",style:{backgroundColor:"white",border:"1px solid #ced4da"},onClick:function(){l({type:"signOut"}),e.onClick()}},r.a.createElement("img",{className:"g-icon",src:x.a,alt:"g-icon"}),"Logout")},onLogoutSuccess:function(){t.push("../")}})))))}function V(){var e=Object(n.useContext)(f).state.favorites.slice(0).reverse(),t=new j.GiphyFetch("xnRLsVCSkmNxrfX34lVxjbuN4faLWKbq"),a=v(),l=Object(i.g)();if(0===e.length)return r.a.createElement("div",{className:"header space"},r.a.createElement("header",null,r.a.createElement("p",null,"Oops, you don't have any favorites yet!"),r.a.createElement("p",null,"(Existing favorites are deleted upon refresh.)"),r.a.createElement("button",{type:"button",onClick:function(){return l.push("./search")}},"Back to Search")));var c=e.join();return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("img",{src:I.a,width:"400",alt:"Powered by GIPHY"})),r.a.createElement(y.Grid,{hideAttribution:!0,key:c,width:a,columns:3,fetchGifs:function(a){return t.gifs(e)},onGifClick:function(e,t){t.stopPropagation(),t.preventDefault();var a,n=e.url,r=n.lastIndexOf("-"),c=n.lastIndexOf("/");a=r>-1?n.slice(r+1):c>-1?n.slice(c+1):n,l.push("./details",{url:a,res:""})}}))}function q(){return r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement(N.a,null,r.a.createElement(O.a,{justify:!0,variant:"tabs"},r.a.createElement(O.a.Item,{href:"/search"},r.a.createElement(O.a.Link,{as:o.b,to:"/search"},"Search")),r.a.createElement(O.a.Item,{href:"/favorites"},r.a.createElement(O.a.Link,{disabled:"true"},"Favorites")))))}var _=function(){return r.a.createElement(N.a,null,r.a.createElement(K,null),r.a.createElement(V,null),r.a.createElement(q,null))};var $=function(){var e=Object(i.h)().pathname;return console.log(e),r.a.createElement("div",{className:"center"},r.a.createElement("h1",null,"Not found"),r.a.createElement(o.b,{to:"/"},"Try logging in again. "))};function ee(){return r.a.createElement("main",null,r.a.createElement(E,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",component:h,exact:!0}),r.a.createElement(i.b,{path:"/search",component:L}),r.a.createElement(i.b,{path:"/details",component:z}),r.a.createElement(i.b,{path:"/favorites",component:_}),r.a.createElement(i.b,{component:$}))))}c.a.render(r.a.createElement(o.a,{basename:"/giphy-search"},r.a.createElement(ee,null)),document.getElementById("root"))},22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAcCAYAAACZOmSXAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAH6ADAAQAAAABAAAAHAAAAAAl+oE4AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAADQklEQVRIDe2WX0hTURzHv7t310236WL+TR2atMQUS8X+kGGmEETQQw/5FmQSBBFRaASi9FIS9JDQgw8R1EMPSlQPJlEP+iBkD2ZJyswUGZvMXdfc2nbv7jp3c7Yr3ru7CHyoA7v3nN/9/b6f8/udc+6dJkoadqhRO8SNYf9duDbdsnOzMwi+Gga/YEfEsYwoFwZtyQNTcwC65jZkNBxWLalRu+EiLid8/X3gpj4qimura5Hd1Qu6qFjRT3yoCs7NTMPbcxPRNU9KQdGBqWuEuX8gpW9KeMS9ArajHdF1n0SMLrFCW2FDVBDAz89BIEsgNu3eSuQQMGXKlvhvN0i55r7+XgmYysuH8WoXdEeaJHqhsfcIjryEqbtPFVgMVsw8yo4j8PgcAm9KgAgFypIL84NB0LtTr6dkZjIDxcwF51Poaj2gC3/CP1wOw8UrcbD4UiTlBsidokkKGhl5ZbNi5vxEHeD/HFMQeAuY1mVoaALjOGCG2FfdeOSsgl9vEksIOsojotEizOg3qcdsNJoqt89xe2siNLiU6JGS74uDExZxEmSjaadYEDSyeR/cOguWsqyYMtkSXjDq8IfwTYktHYYBCgrJmWKwZ30eQToTRgJ36fKhFSIS5zAvGUoGypnrS0nZv8QCgoEFZBJhWlxjseWYgdZTmHCy4KgMUnYB64wRP6gsIBB3Ea9mg/x+UIQLpgZQBD7HZ+OWpwqdi2M4Xd4cV87IAMhZv91tjY83ri8mOTwcDW/arBb5b5f8ExIuFLTjdbAUl9aa4BAMGPj0DMvrrk3hrR1vIIqhD2QzbjQx58aKjUoljEl3Rbg+twVvDRdAPh2xEHeQxeV3PRhzTCZJxLuz7AKuPf8OB/v7v8nJaho5WfJlVzxqouxKYBXnR67Dx/klQKuxCLZd5aA1FBZ9Dnxlv0Ej6KF3dYIJ1MNAdvlgRyYKcuTzSwkXidPuOdwYvwdPyCuZgNygIHQWd46342CZfMnFWPlpJSnX5NrwpO0u6vP3J1m375aZinH/zNGUYDFaVebJmBmPHUP2Udi9S2TzORGKhGHRm1FtsaGl5BBOkB9FlkJNSxuuRlStj7opqlVL0+8/PM2C/R33HS37L06iGeZMsRidAAAAAElFTkSuQmCC"},26:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/giphy.7043b95a.gif"},67:function(e,t,a){e.exports=a.p+"static/media/avatar.6aa0c446.png"},73:function(e,t,a){e.exports=a(122)}},[[73,1,2]]]);
//# sourceMappingURL=main.1a6b7e5b.chunk.js.map